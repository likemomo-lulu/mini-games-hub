<!-- è®°å¿†ç¿»ç‰Œæ¸¸æˆ -->
<view class="container" style="background: linear-gradient(135deg, {{theme.primary}} 0%, {{theme.primaryDark}} 100%);">
  <!-- å¤´éƒ¨ä¿¡æ¯æ  -->
  <view class="header">
    <view class="level-badge">å…³å¡ {{currentLevel}}/{{maxLevel}}</view>
    <view class="level-name">{{levelName}}</view>
    <view class="stats">
      <view class="stat-box">
        <view class="stat-label">æ­¥æ•°</view>
        <view class="stat-value">{{moves}}</view>
      </view>
      <view class="stat-box">
        <view class="stat-label">æ—¶é—´</view>
        <view class="stat-value">{{timeDisplay}}</view>
      </view>
    </view>
  </view>

  <!-- æ§åˆ¶æŒ‰é’® -->
  <view class="controls">
    <button
      class="btn btn-small"
      bindtap="resetToFirstLevel"
      style="background: rgba(255,255,255,0.2);"
    >é‡ç½®å…³å¡</button>
    <button
      class="btn"
      bindtap="restart"
      style="background: linear-gradient(135deg, {{theme.accentFrom}} 0%, {{theme.accentTo}} 100%);"
    >é‡æ–°å¼€å§‹</button>
  </view>

  <!-- æ¸¸æˆæ£‹ç›˜ -->
  <view class="game-board">
    <!-- å¡ç‰‡ç½‘æ ¼ - åŠ¨æ€åˆ—æ•° -->
    <view class="grid grid-{{gridCols}}">
      <view
        class="card-container"
        wx:for="{{cards}}"
        wx:key="id"
        bindtap="onCardTap"
        data-index="{{index}}"
      >
        <view class="card {{item.isFlipped ? 'flipped' : ''}} {{item.isMatched ? 'matched' : ''}}">
          <!-- å¡ç‰‡æ­£é¢ï¼ˆèƒŒé¢å›¾æ¡ˆï¼‰ -->
          <view class="card-front"></view>
          <!-- å¡ç‰‡èƒŒé¢ï¼ˆemojiï¼‰ -->
          <view class="card-back">{{item.emoji}}</view>
        </view>
      </view>
    </view>

    <!-- èƒœåˆ©è¦†ç›–å±‚ -->
    <view class="overlay game-win {{gameWin ? 'show' : ''}}">
      <view class="overlay-content">
        <view class="overlay-title">ğŸ‰ æ­å–œé€šå…³!</view>
        <view class="overlay-text">å¤ªæ£’äº†ï¼</view>
        <view class="overlay-info">å…³å¡ {{currentLevel}} - {{levelName}}</view>
        <view class="overlay-info">æ­¥æ•°: {{moves}}</view>
        <view class="overlay-info">ç”¨æ—¶: {{timeDisplay}}</view>
        <view class="overlay-buttons">
          <button class="btn-restart btn-secondary" bindtap="restart">å†æ¥ä¸€æ¬¡</button>
          <button class="btn-restart" bindtap="nextLevel" disabled="{{currentLevel >= maxLevel}}">
            {{currentLevel >= maxLevel ? 'å·²é€šå…³å…¨éƒ¨' : 'æŒ‘æˆ˜ä¸‹ä¸€å…³'}}
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæç¤º -->
  <view class="tips">
    ğŸ’¡ ç‚¹å‡»å¡ç‰‡ç¿»ç‰Œï¼Œæ‰¾åˆ°ç›¸åŒå›¾æ¡ˆé…å¯¹
  </view>
</view>
